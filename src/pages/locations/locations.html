<!--
  Generated template for the Locations page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Map
    </ion-title>
    <ion-buttons end>
      <custom-button *ngIf="(scope == 'admin') && !addMarkerEnabled && !finishMarkerEnabled" icon="add-circle" text="Enable Add Location" (notify)="enableAddMarker()"></custom-button>
      <custom-button *ngIf="(scope == 'admin') && addMarkerEnabled && !finishMarkerEnabled" icon="remove-circle" text="Cancel Add Location" (notify)="disableAddMarker(false)"></custom-button>
      <custom-button *ngIf="(scope == 'admin') && !addMarkerEnabled && finishMarkerEnabled" icon="checkmark-circle" text="Finish Add Location" (notify)="finishAddMarker()"></custom-button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div #map id="map"></div>
  <ion-fab right top color="light">
    <button ion-fab color="light" (click)="goToMyPosition()"><ion-icon name="locate"></ion-icon></button>
  </ion-fab>
  <ion-fab right middle color="light">
    <button ion-fab color="dark"><ion-icon name="help-circle"></ion-icon></button>
    <ion-fab-list side="left">
      <div class="legend">
        <strong><u>Map Legend</u></strong><br><br>
        <img src="http://maps.google.com/mapfiles/ms/micons/horsebackriding.png"> Your position<br>
        <img src="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"> No objectives at location<br>
        <img src="http://maps.google.com/mapfiles/ms/icons/red-dot.png"> Objectives not completed<br>
        <img src="http://maps.google.com/mapfiles/ms/icons/green-dot.png"> All objectives completed
        <ng-template [ngIf]="scope == 'admin'">
          <br><img src="http://maps.google.com/mapfiles/ms/icons/purple-dot.png"> New location<br>
          <img src="http://maps.google.com/mapfiles/ms/micons/man.png"> Tracked users location
        </ng-template>
      </div>
    </ion-fab-list>
  </ion-fab>
</ion-content>
